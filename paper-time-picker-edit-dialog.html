<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-dialog/paper-dialog.html">
<link rel="import" href="../paper-time-picker/paper-time-picker.html">
<link rel="import" href="../neon-animation/animations/fade-in-animation.html">
<link rel="import" href="../neon-animation/animations/fade-out-animation.html">

<dom-module id='paper-time-picker-edit-dialog'>

	<template>
		<style>
			.dialog {
				padding: 0;
				margin: 0;
			}
		</style>
		
    <paper-dialog id="dialog" class="paper-time-picker-dialog dialog" modal entry-animation='fade-in-animation' exit-animation='fade-out-animation' on-iron-overlay-closed='_onClosed'>
      <paper-time-picker id="timePicker" time="{{time}}"></paper-time-picker>
      <div class="buttons">
        <paper-button dialog-dismiss>Cancel</paper-button>
        <paper-button dialog-confirm on-tap='close'>OK</paper-button>
      </div>
    </paper-dialog>
	</template>
	
</dom-module>

<script>

(function() {

	Polymer({
		is: 'paper-time-picker-edit-dialog',
		properties: {
			time: {
				type: String,
				notify: true
			}
		},

		// Public methods
		open: function() {
			// Append dialog to the body. This ensures that the dialog claims the full screen instead of being positioned next to the <paper-datetime-picker-item>
			Polymer.dom(document.body).appendChild(this);
			this.$.dialog.open();
		},
		close: function() {
			// Inform listeners that the user confirmed the selected date
			this.fire('paper-time-picker-edit-dialog-save', this.time);
		},

		// Private methods
		_onClosed: function(e, detail) {
			// Remove the dialog from the DOM once the exit animation is finished
			Polymer.dom(this.parentNode).removeChild(this);
		}
	});

})();

</script>
